(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){},29:function(e,t,a){e.exports=a(63)},35:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(26),i=a.n(l),s=(a(35),a(2)),o=a(3),c=a(6),u=a(4),h=a(5),m=a(27),d=a(17),p=a.n(d),v=function(){function e(t){Object(s.a)(this,e),this.domain=t||"http://localhost:5000",this.fetch=this.fetch.bind(this),this.login=this.login.bind(this),this.getProfile=this.getProfile.bind(this)}return Object(o.a)(e,[{key:"login",value:function(e,t){var a=this;return this.fetch("".concat(this.domain,"/login"),{method:"POST",body:JSON.stringify({email:e,password:t})}).then(function(e){return a.setToken(e.token),console.log("token token token"),Promise.resolve(e)})}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return p()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"setToken",value:function(e){localStorage.setItem("id_token",e)}},{key:"getToken",value:function(){return console.log("GET TOKEN",localStorage.getItem("id_token")),localStorage.getItem("id_token")}},{key:"logout",value:function(){localStorage.removeItem("id_token")}},{key:"getProfile",value:function(){return p()(this.getToken())}},{key:"fetch",value:function(e){function t(t,a){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){var a={Accept:"application/json","Content-Type":"application/json"};return this.loggedIn()&&(a.Authorization="Bearer "+this.getToken()),fetch(e,Object(m.a)({headers:a},t)).then(this._checkStatus).then(function(e){return e.json()})})},{key:"_checkStatus",value:function(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}}]),e}(),f=a(65),g=a(67),b=a(66),E=(a(38),a(39),function(){return r.a.createElement("div",{className:"navbar"},r.a.createElement("input",{type:"checkbox",id:"op"}),r.a.createElement("div",{className:"lower"},r.a.createElement("label",{htmlFor:"op"},"VOR")),r.a.createElement("div",{className:"overlay overlay-hugeinc"},r.a.createElement("label",{htmlFor:"op"}),r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"/login"},"Login")),r.a.createElement("li",null,r.a.createElement("a",{href:"/signup"},"Signup")),r.a.createElement("li",null,r.a.createElement("a",{href:"/artistlist"},"Catalogue"))))))}),y=(a(40),function(){return r.a.createElement("div",{className:"wrapperCuratorPick"},r.a.createElement("div",{key:"1",className:"pick1 embed-responsive embed-responsive-4by3"},r.a.createElement("video",{id:"slide1",className:"video-fluid1 z-depth-1",autoPlay:!0,loop:!0,controls:!0,muted:!0},r.a.createElement("source",{src:"https://mdbootstrap.com/img/video/Sail-Away.mp4",type:"video/mp4"}))),r.a.createElement("div",{key:"2",className:"pick2 embed-responsive embed-responsive-4by3"},r.a.createElement("video",{id:"slide2",className:"video-fluid2 z-depth-1",autoPlay:!0,loop:!0,controls:!0,muted:!0},r.a.createElement("source",{src:"https://mdbootstrap.com/img/video/Sail-Away.mp4",type:"video/mp4"}))),r.a.createElement("div",{key:"3",className:"pick3 embed-responsive embed-responsive-4by3"},r.a.createElement("video",{id:"slide3",className:"video-fluid3 z-depth-1",autoPlay:!0,loop:!0,controls:!0,muted:!0},r.a.createElement("source",{src:"https://mdbootstrap.com/img/video/Sail-Away.mp4",type:"video/mp4"}))))}),j=a(13),O=a(8),k=a(12),C=a.n(k),S=function e(){var t=this;Object(s.a)(this,e),this.register=function(e,a,n,r,l,i,s){return t.service.post("/register",{artist:e,userName:a,firstName:n,lastName:r,email:l,password:i,password2:s}).then(function(e){return e.data})};var a=C.a.create({baseURL:"https://vor-vidualartists.herokuapp.com//",withCredentials:!0});this.service=a},w=(a(25),a(64)),N=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={userName:"",firstName:"",lastName:"",email:"",password:"",password2:"",artist:!0,companies:[],nationality:"",techniques:[],hashtags:[]},a.service=new S,a.handleChange=a.handleChange.bind(Object(O.a)(Object(O.a)(a))),a.handleFormSubmit=a.handleFormSubmit.bind(Object(O.a)(Object(O.a)(a))),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleFormSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state.userName,n=this.state.firstName,r=this.state.lastName,l=this.state.email,i=this.state.password,s=this.state.password2;this.service.register(!0,a,n,r,l,i,s).then(function(e){t.setState({artist:"",userName:"",firstName:"",lastName:"",email:"",password:"",password2:""}),t.props.getUser(e)}).catch(function(e){return console.log(e)})}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(j.a)({},a,n))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"ARTIST SIGNUP"),r.a.createElement("form",{className:"signupForm formDiv",onSubmit:this.handleFormSubmit},r.a.createElement("div",null,r.a.createElement("input",{type:"text",name:"userName",value:this.state.userName,className:"inputfield",placeholder:"username",onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("input",{type:"text",name:"firstName",value:this.state.firstName,className:"inputfield",placeholder:"firstname",onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("input",{type:"text",name:"lastName",value:this.state.lastName,className:"inputfield",placeholder:"lastname",onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("input",{type:"email",name:"email",value:this.state.email,className:"inputfield",placeholder:"email",onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("input",{type:"password",name:"password",value:this.state.password,className:"inputfield",placeholder:"password",onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("input",{type:"password",name:"password2",value:this.state.password2,className:"inputfield",placeholder:"password",onChange:this.handleChange})),r.a.createElement("input",{type:"submit",value:"signup",className:"btn"})),r.a.createElement("p",null,"Already have account?",r.a.createElement(w.a,{to:"/login"}," Login")))}}]),t}(n.Component),A=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleChange=e.handleChange.bind(Object(O.a)(Object(O.a)(e))),e.handleFormSubmit=e.handleFormSubmit.bind(Object(O.a)(Object(O.a)(e))),e.Auth=new v,e}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleFormSubmit",value:function(e){var t=this;e.preventDefault(),this.Auth.login(this.state.email,this.state.password).then(function(e){t.props.history.replace("/me")}).catch(function(e){alert(e)})}},{key:"componentWillMount",value:function(){this.Auth.loggedIn()&&this.props.history.replace("/me")}},{key:"render",value:function(){return r.a.createElement("div",{className:"loginForm formDiv"},r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("input",{placeholder:"Email goes here...",name:"email",type:"text",onChange:this.handleChange}),r.a.createElement("input",{placeholder:"Password goes here...",name:"password",type:"password",onChange:this.handleChange}),r.a.createElement("input",{value:"SUBMIT",type:"submit"}))))}},{key:"handleChange",value:function(e){this.setState(Object(j.a)({},e.target.name,e.target.value))}}]),t}(n.Component);function T(){return r.a.createElement("div",null,r.a.createElement("h1",null,"page not found 404"))}var x=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){a.setState({searchTerm:e.target.value}),a.props.onSearch(a.state)},a.handleSearch=function(e){e.preventDefault()},a.state={searchTerm:""},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"SearchBar"},r.a.createElement("div",{className:"SearchBar-fields"},r.a.createElement("input",{name:"searchTerm",placeholder:"Search",onChange:this.props.onSearch})))}}]),t}(n.Component),P=function(e){return r.a.createElement("div",null,r.a.createElement("div",null,e.data.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("h3",null,e.userName))})))},I=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).searchArtist=function(e){console.log("EVENT",e.target.value),a.setState({queryResult:e.target.value})},a.getAllArtists=function(){C.a.get("https://vor-vidualartists.herokuapp.com//allartists").then(function(e){a.setState({listOfAllArtists:e.data}),console.log("allArtistsFromApi",e.data[0].artist)})},a.state={listOfAllArtists:[],queryResult:""},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getAllArtists()}},{key:"render",value:function(){var e=this;console.log("STATE",this.state);var t=this.state.listOfAllArtists.filter(function(t){return t.userName.includes(e.state.queryResult)||t.nationality.includes(e.state.queryResult)||t.techniques.join(", ").includes(e.state.queryResult)||t.hashtags.join(", ").includes(e.state.queryResult)});return console.log("listOfAllArtists!!!!jsndjkdbk",this.state.listOfAllArtists.techniques),console.log("filteredArtists",t),r.a.createElement("div",null,r.a.createElement(x,{onSearch:this.searchArtist}),r.a.createElement(P,{data:t}))}}]),t}(n.Component),F=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getAllProjects=function(){C.a.get("https://vor-vidualartists.herokuapp.com//projects").then(function(e){a.setState({listOfProjects:e.data})})},a.state={listOfProjects:[]},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getAllProjects()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{width:"60%",float:"left"}},this.state.listOfProjects.map(function(e){return r.a.createElement("div",{key:e._id},r.a.createElement("h3",null,e.name))})),r.a.createElement("div",{style:{width:"40%",float:"right"}}))}}]),t}(n.Component),U=function e(){var t=this;Object(s.a)(this,e),this.addProject=function(e,a,n,r,l,i,s){return t.service.post("/projects",{artist:e,name:a,description:n,location:r,event:l,video:i,date:s},{headers:{authorization:t.authService.getToken()}}).then(function(e){return e.data})},this.service=C.a.create({baseURL:"https://vor-vidualartists.herokuapp.com//",withCredentials:!0}),this.authService=new v};function D(e){var t=new v("http://localhost:5000");return function(a){function n(){var e;return Object(s.a)(this,n),(e=Object(c.a)(this,Object(u.a)(n).call(this))).state={user:null},e}return Object(h.a)(n,a),Object(o.a)(n,[{key:"componentWillMount",value:function(){if(t.loggedIn())try{var e=t.getProfile();this.setState({user:e})}catch(a){t.logout(),console.log(a),this.props.history.replace("/login")}else this.props.history.replace("/login")}},{key:"render",value:function(){return this.state.user?r.a.createElement(e,{history:this.props.history,user:this.state.user}):null}}]),n}(n.Component)}var R=D(function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.artist,n=a.state.name,r=a.state.description,l=a.state.location,i=a.state.event,s=a.state.video,o=a.state.date;a.service.addProject(t,n,r,l,i,s,o).then(function(e){a.setState({artist:"",name:"",description:"",location:"",event:"",video:"",date:""})}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(j.a)({},n,r))},a.state={loggedInUser:null,artist:"",name:"",description:"",location:"",event:"",video:"",date:""},a.service=new U,a.Auth=new v,a.handleChange=a.handleChange.bind(Object(O.a)(Object(O.a)(a))),a.handleFormSubmit=a.handleFormSubmit.bind(Object(O.a)(Object(O.a)(a))),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",null,"adding a project for ",this.props.user.userName),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Artist:"),r.a.createElement("input",{type:"text",name:"artist",value:this.state.artist,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Name:"),r.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Description:"),r.a.createElement("textarea",{name:"description",value:this.state.description,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Location:"),r.a.createElement("input",{type:"text",name:"location",value:this.state.location,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Event:"),r.a.createElement("input",{type:"text",name:"event",value:this.state.event,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Upload:"),r.a.createElement("input",{type:"file",name:"upload",value:this.state.upload,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Date:"),r.a.createElement("input",{type:"date",name:"date",value:this.state.date,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"submit",value:"Submit"})))}}]),t}(n.Component)),q=new v,L=D(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleLogout",value:function(){q.logout(),this.props.history.replace("/")}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-header"},r.a.createElement("h2",null,"MyProfile")),r.a.createElement("p",null,"username: ",this.props.user.userName),r.a.createElement("p",null,"Email: ",this.props.user.email),r.a.createElement("p",{className:"App-intro"},r.a.createElement("button",{type:"button",className:"form-submit",onClick:this.handleLogout.bind(this)},"Logout")))}}]),t}(n.Component)),_=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getTheUser=function(e){a.setState({loggedInUser:e})},a.state={loggedInUser:null},a.service=new v,a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"fetchUser",value:function(){var e=this;null===this.state.loggedInUser&&this.service.loggedin().then(function(t){e.setState({loggedInUser:t}),console.log(e.state.loggedInUser)}).catch(function(t){e.setState({loggedInUser:!1})})}},{key:"render",value:function(){var e=this;return r.a.createElement(f.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(E,null),r.a.createElement(g.a,null,r.a.createElement(b.a,{exact:!0,path:"/",component:y}),r.a.createElement(b.a,{exact:!0,path:"/login",component:A}),r.a.createElement(b.a,{exact:!0,path:"/signup",render:function(){return r.a.createElement(N,{getUser:e.getTheUser})}}),r.a.createElement(b.a,{exact:!0,path:"/artistlist",component:I}),r.a.createElement(b.a,{exact:!0,path:"/allprojects",component:F}),r.a.createElement(b.a,{exact:!0,path:"/addproject",component:R}),r.a.createElement(b.a,{exact:!0,path:"/me",component:L}),r.a.createElement(b.a,{component:T}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,1,2]]]);
//# sourceMappingURL=main.75773a82.chunk.js.map